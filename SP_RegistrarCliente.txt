CREATE PROC sp_RegistrarCliente(
    @Nombres varchar(100),
    @Apellidos varchar(100),
    @Correo varchar(100),
    @Clave varchar(100),
    @Mensaje varchar(500) OUTPUT,
    @Resultado int OUTPUT
)
AS
BEGIN
    SET @Resultado = 0

    IF NOT EXISTS (SELECT * FROM CLIENTE WHERE Correo = @Correo)
    BEGIN
        INSERT INTO CLIENTE(Nombres, Apellidos, Correo, Clave, Reestablecer) 
        VALUES (@Nombres, @Apellidos, @Correo, @Clave, 0)

        SET @Resultado = SCOPE_IDENTITY()
    END
    ELSE
    BEGIN
        SET @Mensaje = 'El correo del usuario ya existe'
    END
END